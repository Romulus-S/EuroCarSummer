<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>1963 Alfa Romeo Barchetta</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
     <header class="site-header">
        <div class="header-inner">
            <a class="site-title" href="index.html">Euro Car Summer</a>
            <nav class="site-nav">
                <a href="index.html">Home</a>
            </nav>
        </div>
    </header>
    <main class="post-detail">
        <h1>1963 Alfa Romeo Barchetta</h1>
        <p><em>16 Ottobre 2025</em></p>

        <p>Una Conrero Barchetta? Molti comprano un’auto per sembrare fighi. Secondo me, quasi nessuno ci riesce. Chi compra questa ex Targa Florio è un’eccezione.</p>
        <p>A Conrero Barchetta? A lot of people buy cars to look cool. In my opinion, almost none succeed. The guy who buys this Targa Florio racer is an exception.</p>
        <p>60.000€ a Barasso, Varese</p>
        <p><a href="https://www.subito.it/auto/alfa-romeo-spider-barchetta-varese-619893815.htm">Scopri l'annuncio completo</a></p>

        <img src="images/10:16 21.jpeg" width="300">
        <img src="images/10:16 22.jpeg" width="300">
        <img src="images/10:16 23.jpeg" width="300">
        <img src="images/10:16 24.jpeg" width="300">
        <img src="images/10:16 25.jpeg" width="300">
        <img src="images/10:16 26.jpeg" width="300">
        <img src="images/10:16 27.jpeg" width="300">
        <img src="images/10:16 28.jpeg" width="300">
        <img src="images/10:16 29.jpeg" width="300">
        <img src="images/10:16 30.jpeg" width="300">
        <img src="images/10:16 31.jpeg" width="300">
        <img src="images/10:16 32.jpeg" width="300">
        <img src="images/10:16 33.jpeg" width="300">
        <img src="images/10:16 34.jpeg" width="300">
        <img src="images/10:16 35.jpeg" width="300">
        <img src="images/10:16 36.jpeg" width="300">

        <p><a href="index.html">Torna alla home</a></p>
    </main>
    <footer>
        © Euro Car Summer — Passione italiana per le auto d'epoca.
    </footer>
    <script>
    // Gallery helper
    (function () {
        var FULLSCREEN_EVENTS = ['fullscreenchange', 'webkitfullscreenchange'];
        function initGallery(root, images, options) {
            if (!root || !images || images.length === 0) {
                return;
            }
            var config = Object.assign({
                showThumbnails: false,
                showCounter: false,
                enableKeyboard: false,
                loop: true,
                allowFullscreen: false
            }, options || {});
            root.classList.add('image-gallery');
            if (config.variant) {
                root.classList.add(config.variant);
            }
            root.dataset.galleryInitialised = 'true';
            root.innerHTML = '';

            var stage = document.createElement('div');
            stage.className = 'gallery-stage';

            var slides = images.map(function (image, index) {
                var figure = document.createElement('figure');
                figure.className = 'gallery-slide';
                if (index === 0) {
                    figure.classList.add('is-active');
                }
                if (image.hasAttribute('width')) {
                    image.removeAttribute('width');
                }
                if (image.hasAttribute('height')) {
                    image.removeAttribute('height');
                }
                if (!image.hasAttribute('loading')) {
                    image.loading = 'lazy';
                }
                image.decoding = 'async';
                figure.appendChild(image);
                stage.appendChild(figure);
                return figure;
            });

            var prevButton = document.createElement('button');
            prevButton.type = 'button';
            prevButton.className = 'gallery-control gallery-control--prev';
            prevButton.setAttribute('aria-label', 'Immagine precedente');
            prevButton.innerHTML = '&#10094;';

            var nextButton = document.createElement('button');
            nextButton.type = 'button';
            nextButton.className = 'gallery-control gallery-control--next';
            nextButton.setAttribute('aria-label', 'Immagine successiva');
            nextButton.innerHTML = '&#10095;';

            root.appendChild(prevButton);
            root.appendChild(stage);
            root.appendChild(nextButton);

            var metaBar = document.createElement('div');
            metaBar.className = 'gallery-meta';
            root.appendChild(metaBar);

            var counter = null;
            if (config.showCounter) {
                counter = document.createElement('p');
                counter.className = 'gallery-counter';
                counter.textContent = '1 / ' + slides.length;
                metaBar.appendChild(counter);
            }

            var fullscreenButton = null;
            var canFullscreen = config.allowFullscreen && slides.length > 0 && (root.requestFullscreen || root.webkitRequestFullscreen);
            if (canFullscreen) {
                fullscreenButton = document.createElement('button');
                fullscreenButton.type = 'button';
                fullscreenButton.className = 'gallery-fullscreen';
                fullscreenButton.textContent = 'Schermo intero';
                metaBar.appendChild(fullscreenButton);
            }

            if (!metaBar.hasChildNodes()) {
                root.removeChild(metaBar);
                metaBar = null;
            }

            var thumbnailBar = null;
            var thumbnailButtons = [];
            if (config.showThumbnails && slides.length > 1) {
                thumbnailBar = document.createElement('div');
                thumbnailBar.className = 'gallery-thumbnails';
                slides.forEach(function (slide, index) {
                    var button = document.createElement('button');
                    button.type = 'button';
                    button.className = 'gallery-thumb';
                    button.setAttribute('aria-label', 'Mostra immagine ' + (index + 1));
                    var originalImage = slide.querySelector('img');
                    if (originalImage) {
                        var thumb = originalImage.cloneNode(true);
                        thumb.removeAttribute('width');
                        thumb.removeAttribute('height');
                        thumb.loading = 'lazy';
                        button.appendChild(thumb);
                    }
                    if (index === 0) {
                        button.classList.add('is-active');
                    }
                    button.addEventListener('click', function () {
                        showSlide(index);
                    });
                    thumbnailButtons.push(button);
                    thumbnailBar.appendChild(button);
                });
                root.appendChild(thumbnailBar);
            }

            var currentIndex = 0;

            function updateCounter(index) {
                if (counter) {
                    counter.textContent = (index + 1) + ' / ' + slides.length;
                }
            }

            function updateThumbnails(index) {
                thumbnailButtons.forEach(function (button, buttonIndex) {
                    if (buttonIndex === index) {
                        button.classList.add('is-active');
                    } else {
                        button.classList.remove('is-active');
                    }
                });
            }

            function showSlide(targetIndex) {
                var index = targetIndex;
                if (index < 0) {
                    index = config.loop ? slides.length - 1 : 0;
                } else if (index >= slides.length) {
                    index = config.loop ? 0 : slides.length - 1;
                }
                if (index === currentIndex) {
                    return;
                }
                slides[currentIndex].classList.remove('is-active');
                slides[index].classList.add('is-active');
                currentIndex = index;
                updateCounter(currentIndex);
                updateThumbnails(currentIndex);
            }

            prevButton.addEventListener('click', function () {
                showSlide(currentIndex - 1);
            });

            nextButton.addEventListener('click', function () {
                showSlide(currentIndex + 1);
            });

            if (config.enableKeyboard) {
                root.setAttribute('tabindex', '0');
                root.addEventListener('keydown', function (event) {
                    if (event.key === 'ArrowLeft') {
                        event.preventDefault();
                        showSlide(currentIndex - 1);
                    } else if (event.key === 'ArrowRight') {
                        event.preventDefault();
                        showSlide(currentIndex + 1);
                    }
                });
            }

            function isFullscreenActive() {
                return document.fullscreenElement === root || document.webkitFullscreenElement === root;
            }

            function syncFullscreenState() {
                if (!fullscreenButton) {
                    return;
                }
                if (isFullscreenActive()) {
                    fullscreenButton.textContent = 'Chiudi schermo intero';
                    fullscreenButton.setAttribute('aria-pressed', 'true');
                } else {
                    fullscreenButton.textContent = 'Schermo intero';
                    fullscreenButton.setAttribute('aria-pressed', 'false');
                }
            }

            if (fullscreenButton) {
                fullscreenButton.addEventListener('click', function () {
                    if (isFullscreenActive()) {
                        try {
                            if (document.exitFullscreen) {
                                document.exitFullscreen();
                            } else if (document.webkitExitFullscreen) {
                                document.webkitExitFullscreen();
                            }
                        } catch (error) {}
                    } else {
                        try {
                            if (root.requestFullscreen) {
                                root.requestFullscreen();
                            } else if (root.webkitRequestFullscreen) {
                                root.webkitRequestFullscreen();
                            }
                        } catch (error) {}
                    }
                });

                FULLSCREEN_EVENTS.forEach(function (eventName) {
                    document.addEventListener(eventName, syncFullscreenState);
                });

                syncFullscreenState();
            }

            updateCounter(currentIndex);
        }

        function enhanceCardGalleries() {
            document.querySelectorAll('.card-gallery').forEach(function (container) {
                if (container.dataset.galleryInitialised === 'true') {
                    return;
                }
                var images = Array.from(container.querySelectorAll('img'));
                if (images.length <= 1) {
                    container.classList.add('card-gallery--single');
                    return;
                }
                var wrapper = document.createElement('div');
                wrapper.className = 'image-gallery image-gallery--card';
                container.replaceWith(wrapper);
                initGallery(wrapper, images, {
                    showCounter: true
                });
            });
        }

        function enhancePostGallery() {
            var detail = document.querySelector('.post-detail');
            if (!detail) {
                return;
            }
            var images = Array.from(detail.querySelectorAll('img'));
            if (images.length <= 1) {
                return;
            }
            var wrapper = document.createElement('div');
            wrapper.className = 'image-gallery image-gallery--post';
            detail.insertBefore(wrapper, images[0]);
            initGallery(wrapper, images, {
                showCounter: true,
                showThumbnails: true,
                enableKeyboard: true,
                allowFullscreen: true
            });
        }

        document.addEventListener('DOMContentLoaded', function () {
            enhanceCardGalleries();
            enhancePostGallery();
        });
    })();
    </script>
</body>
</html>
